---
import Image from "astro/components/Image.astro";
import Github from "./Icons/Github.astro";
import Link from "./Icons/Link.astro";
import Pill from "./Pill.astro";

interface Props {
  title: string;
  description: string;
  second_description?: string;
  image: string;
  link: string;
  tecnologies: string[];
  github?: string;
}

const {
  title,
  description,
  second_description,
  image,
  link,
  tecnologies,
  github,
} = Astro.props;
---

<article
  class="flex flex-col justify-center items-center lg:flex-row gap-2 md:gap-10 max-w-[1100px]"
>
  <picture class="max-w-[500px]">
    <div class="parent">
      <Image
        width={960}
        height={720}
        src={image}
        alt={title}
        class="w-full rounded-lg child"
        loading="lazy"
      />
    </div>
  </picture>
  <main class="flex flex-col gap-4 justify-between">
    <section class="w-full mt-5">
      {
        tecnologies && (
          <ul class="flex gap-5 mb-4 ">
            {tecnologies.map((tecnology) => (
              <li>
                <Pill>{tecnology}</Pill>
              </li>
            ))}
          </ul>
        )
      }
      <div class="flex flex-col gap-5">
        <h2 class="text-2xl text-text-100">{title}</h2>
        <p class="text-md text-text-100 max-w-2xl text-pretty">{description}</p>
        {
          second_description && (
            <p class="text-md text-text-100 max-w-2xl text-pretty">
              {second_description}
            </p>
          )
        }
      </div>
    </section>
    <footer class="flex gap-8 mb-5">
      <a
        href={link}
        role="link"
        aria-label=`Ver proyecto ${title}`
        rel="noopener noreferrer"
        target="_blank"
        class="text-text-200 flex justify-center items-center gap-1 cursor-pointer hover:scale-110 hover:text-text-100 transition-all duration-200 ease-in-out"
      >
        <Link />
        Demo
      </a>
      <a
        href={github}
        role="link"
        aria-label=`Ir al repositorio de ${title}`
        rel="noopener noreferrer"
        target="_blank"
        class="text-text-200 flex justify-center items-center gap-1 cursor-pointer hover:scale-110 hover:text-text-100 transition-all duration-300 ease-in-out"
      >
        <Github />
        Proyecto
      </a>
    </footer>
  </main>
</article>

<style>
  .parent {
    width: 100%;
    height: auto;
    overflow: hidden;
    position: relative;
    display: inline-block;
    border-radius: 8px;
  }

  .child {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 1.1s;
  }

  .parent:hover .child {
    transform: scale(1.1);
  }
</style>
